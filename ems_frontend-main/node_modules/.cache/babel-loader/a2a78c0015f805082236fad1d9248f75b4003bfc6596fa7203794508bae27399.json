{"ast":null,"code":"var _jsxFileName = \"D:\\\\EmployeeManagementSystem\\\\ems_frontend-main\\\\src\\\\Components\\\\ManagerComponent\\\\MEmployeeAttendanceTableRow.js\",\n  _s = $RefreshSig$();\nimport { Alert, Snackbar } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport EmployeeService from \"../../Services/EmployeeService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MEmployeeAttendanceTableRow = _ref => {\n  _s();\n  let {\n    attendance\n  } = _ref;\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const [alert, setAlert] = useState(null);\n  const [alertSeverity, setAlertSeverity] = useState(null);\n  const [open, setOpen] = useState(false);\n  const approveAttendance = (id, status) => {\n    let formState = {\n      'id': id,\n      'status': status\n    };\n    EmployeeService.approveAttendance(formState).then(response => {\n      if (response.status === 200) {\n        setAlert(\"Attendance marked successfully\");\n        setAlertSeverity(\"success\");\n        setOpen(true);\n        window.location.reload();\n      } else {\n        setAlert(\"Server error\");\n        setAlertSeverity(\"error\");\n        setOpen(true);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: user.id === attendance.employeeId.id ? null : /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 1000,\n        onClose: () => setOpen(false),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: alertSeverity,\n          sx: {\n            width: '100%'\n          },\n          children: alert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: attendance.employeeId.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: attendance.employeeId.firstName + \" \" + attendance.employeeId.lastName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: attendance.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: new Date(attendance.inTime).toLocaleTimeString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: new Date(attendance.outTime).toLocaleTimeString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: attendance.approvalStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-info\",\n          onClick: e => approveAttendance(attendance.id, 'APPROVED'),\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-danger\",\n          onClick: e => approveAttendance(attendance.id, 'REJECTED'),\n          children: \"Reject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(MEmployeeAttendanceTableRow, \"1iBUEORB0/47s5I3HoC8BHFiIGU=\");\n_c = MEmployeeAttendanceTableRow;\nexport default MEmployeeAttendanceTableRow;\nvar _c;\n$RefreshReg$(_c, \"MEmployeeAttendanceTableRow\");","map":{"version":3,"names":["Alert","Snackbar","React","useState","EmployeeService","jsxDEV","_jsxDEV","Fragment","_Fragment","MEmployeeAttendanceTableRow","_ref","_s","attendance","user","JSON","parse","localStorage","getItem","alert","setAlert","alertSeverity","setAlertSeverity","open","setOpen","approveAttendance","id","status","formState","then","response","window","location","reload","children","employeeId","autoHideDuration","onClose","severity","sx","width","fileName","_jsxFileName","lineNumber","columnNumber","firstName","lastName","date","Date","inTime","toLocaleTimeString","outTime","approvalStatus","className","onClick","e","_c","$RefreshReg$"],"sources":["D:/EmployeeManagementSystem/ems_frontend-main/src/Components/ManagerComponent/MEmployeeAttendanceTableRow.js"],"sourcesContent":["import { Alert, Snackbar } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport EmployeeService from \"../../Services/EmployeeService\";\n\n\nconst MEmployeeAttendanceTableRow = ({attendance}) => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const [alert, setAlert] = useState(null);\n    const [alertSeverity, setAlertSeverity] = useState(null);\n    const [open, setOpen] = useState(false);\n\n    const approveAttendance = (id, status)=>{\n        let formState = {'id': id, 'status': status}\n        EmployeeService.approveAttendance(formState)\n        .then(response => {\n            if (response.status === 200){\n                setAlert(\"Attendance marked successfully\")\n                setAlertSeverity(\"success\")\n                setOpen(true);\n                window.location.reload()\n            }else{\n                setAlert(\"Server error\")\n                setAlertSeverity(\"error\")\n                setOpen(true);\n            }\n        })\n  }\n    return <>\n    {\n                user.id === attendance.employeeId.id ?null \n                :\n        <tr>\n        \n        <Snackbar open={open} autoHideDuration={1000} onClose={() => setOpen(false)}>\n                <Alert severity={alertSeverity} sx={{ width: '100%' }}>\n                    {alert}\n                </Alert>\n            </Snackbar>\n           \n                <td>{attendance.employeeId.id}</td>\n                <td>{attendance.employeeId.firstName +\" \"+ attendance.employeeId.lastName}</td>\n                <td>{attendance.date}</td>\n                <td>{new Date(attendance.inTime).toLocaleTimeString()}</td>\n                <td>{new Date(attendance.outTime).toLocaleTimeString()}</td>\n                <td>{attendance.approvalStatus}</td>\n                <td>\n                    <button className=\"btn btn-sm btn-info\" onClick={(e) => approveAttendance(attendance.id, 'APPROVED')}>Approve</button>\n                    <button className=\"btn btn-sm btn-danger\" onClick={(e) => approveAttendance(attendance.id, 'REJECTED')}>Reject</button>\n                </td>\n        </tr>\n}\n    </>\n}\n\nexport default MEmployeeAttendanceTableRow;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}