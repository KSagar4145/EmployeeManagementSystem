{"ast":null,"code":"var _jsxFileName = \"D:\\\\EmployeeManagementSystem\\\\ems_frontend-main\\\\src\\\\Components\\\\Authentication\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { Alert, Snackbar } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoginService from \"../../Services/LoginService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [alert, setAlert] = useState(null);\n  const [alertSeverity, setAlertSeverity] = useState(null);\n  const [open, setOpen] = React.useState(false);\n  const navigate = useNavigate();\n  const onSubmit = formState => {\n    LoginService.userLogin(formState).then(response => {\n      // let result = response.data;\n      console.log(response);\n      if (response.status === 200) {\n        setAlert(\"Authentication successful\");\n        setAlertSeverity(\"success\");\n        setOpen(true);\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n        setTimeout(function () {\n          if (response.data.position.role === \"EMPLOYEE\") {\n            navigate(\"/ems/employee/home\");\n          } else if (response.data.position.role === \"HR\") {} else if (response.data.position.role === \"MANAGER\") {\n            navigate(\"/ems/manager/home\");\n          }\n        }.bind(this), 1000);\n      } else {\n        setAlert(\"Authentication failed\");\n        setAlertSeverity(\"error\");\n        setOpen(true);\n      }\n    });\n  };\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card login_card text-center\",\n      style: {\n        width: '20rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 1000,\n        onClose: () => setOpen(false),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: alertSeverity,\n          sx: {\n            width: '100%'\n          },\n          children: alert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title mb-4\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ...register('email', {\n              required: true\n            }),\n            className: \"form-control mb-3\",\n            type: 'email',\n            placeholder: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ...register('password', {\n              required: true\n            }),\n            className: \"form-control mb-4\",\n            type: 'password',\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control btn\",\n            type: \"submit\",\n            value: \"Login\",\n            style: {\n              backgroundColor: '#7134eb',\n              color: '#ededed'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/forgotpassword\",\n        children: \"Forgot password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"mb-4\",\n        href: \"/emp/register\",\n        children: \"New user? Register here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 12\n  }, this);\n};\n_s(Login, \"evexUtr7F/pObnBHd757bnHDfQU=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Alert","Snackbar","React","useState","useForm","useNavigate","LoginService","jsxDEV","_jsxDEV","Login","_s","alert","setAlert","alertSeverity","setAlertSeverity","open","setOpen","navigate","onSubmit","formState","userLogin","then","response","console","log","status","localStorage","setItem","JSON","stringify","data","setTimeout","position","role","bind","register","handleSubmit","errors","children","className","style","width","autoHideDuration","onClose","severity","sx","fileName","_jsxFileName","lineNumber","columnNumber","required","type","placeholder","value","backgroundColor","color","href","_c","$RefreshReg$"],"sources":["D:/EmployeeManagementSystem/ems_frontend-main/src/Components/Authentication/Login.js"],"sourcesContent":["import { Alert, Snackbar } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoginService from \"../../Services/LoginService\";\n\nconst Login = () => {\n\n    const [alert, setAlert] = useState(null);\n    const [alertSeverity, setAlertSeverity] = useState(null);\n    const [open, setOpen] = React.useState(false);\n    const navigate = useNavigate()\n\n    const onSubmit = (formState)=>{\n        LoginService.userLogin(formState)\n        .then(response => {\n            // let result = response.data;\n            console.log(response)\n            if (response.status === 200){\n                setAlert(\"Authentication successful\")\n                setAlertSeverity(\"success\")\n                setOpen(true);\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\n                setTimeout(function(){\n                    if (response.data.position.role === \"EMPLOYEE\"){\n                        navigate(\"/ems/employee/home\")\n                    }                    \n                    else if (response.data.position.role === \"HR\")\n                    {\n                    }\n                    else if (response.data.position.role === \"MANAGER\"){\n                        navigate(\"/ems/manager/home\")\n                    }\n                    }.bind(this), 1000)\n            }else{\n                setAlert(\"Authentication failed\")\n                setAlertSeverity(\"error\")\n                setOpen(true);\n            }\n        })\n    }\n    const {\n        register,\n        handleSubmit,\n        formState: { errors},\n      } = useForm();\n    return <div>\n                <div className=\"card login_card text-center\" style={{width:'20rem'}}>\n                    <Snackbar open={open} autoHideDuration={1000} onClose={() => setOpen(false)}>\n                        <Alert severity={alertSeverity} sx={{ width: '100%' }}>\n                            {alert}\n                        </Alert>\n                    </Snackbar>\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                        <div className=\"card-body mb-2\">\n                            <h5 className=\"card-title mb-4\">Login</h5>\n                            <input {...register('email', { required: true, })} className='form-control mb-3' type={'email'} placeholder='Email'/>\n                            <input {...register('password', { required: true })} className='form-control mb-4' type={'password'}  placeholder='Password'/>\n                            <input className='form-control btn' type=\"submit\" value=\"Login\" style={{backgroundColor: '#7134eb', color: '#ededed'}}/>\n                        </div>\n                    </form>\n                    <a href=\"/forgotpassword\">Forgot password</a>\n                    <a className=\"mb-4\" href=\"/emp/register\">New user? Register here</a>\n                </div>\n            </div>\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}