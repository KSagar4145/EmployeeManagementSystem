{"ast":null,"code":"var _jsxFileName = \"D:\\\\EmployeeManagementSystem\\\\ems_frontend-main\\\\src\\\\Components\\\\ManagerComponent\\\\AddProject.js\",\n  _s = $RefreshSig$();\nimport { Alert, Snackbar } from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Modal } from 'react-bootstrap';\nimport { useForm } from \"react-hook-form\";\nimport ReactSelect from \"react-select\";\nimport EmployeeService from \"../../Services/EmployeeService\";\nimport ProjectService from \"../../Services/ProjectService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddProject = _ref => {\n  _s();\n  let {\n    show,\n    handleClose,\n    project\n  } = _ref;\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const [alert, setAlert] = useState(null);\n  const [alertSeverity, setAlertSeverity] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [employees, setEmployees] = useState([]);\n  var temp = [];\n  const handleChange = e => {\n    setSelectedValue(Array.isArray(e) ? e.map(x => x.value) : []);\n  };\n  const [selectedValue, setSelectedValue] = useState([]);\n  let data = [];\n  useEffect(() => {\n    getAllEmployees();\n    console.log('i fire once');\n  }, []);\n  const onSubmit = formState => {\n    debugger;\n    ProjectService.addProject(formState, user.id).then(response => {\n      if (response.status === 200) {\n        setAlert(\"Project added successfully\");\n        setAlertSeverity(\"success\");\n        setOpen(true);\n        window.location.reload();\n      } else {\n        setAlert(\"Server error\");\n        setAlertSeverity(\"error\");\n        setOpen(true);\n      }\n    });\n  };\n  const getAllEmployees = () => {\n    EmployeeService.getAllEmployees().then(response => {\n      if (response.status === 200) {\n        setAlert(\"\");\n        setAlertSeverity(\"success\");\n        setOpen(true);\n        console.log(response.data);\n        // setTimeout(function(){\n\n        debugger;\n        response.data.forEach(emp => {\n          if (!temp.includes(emp.id)) {\n            data.push({\n              'value': emp.id,\n              'label': emp.firstName + \" \" + emp.lastName\n            });\n            temp.push(emp.id);\n          }\n        });\n        setTimeout(function () {\n          setEmployees(data);\n        }.bind(this), 1000);\n        // setTimeout(function(){\n        // }.bind(this), 1000)\n      } else {\n        setAlert(\"Server error\");\n        setAlertSeverity(\"error\");\n        setOpen(true);\n      }\n    });\n  };\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Add Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 1000,\n        onClose: () => setOpen(false),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: alertSeverity,\n          sx: {\n            width: '100%'\n          },\n          children: alert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        hidden: true,\n        name: \"userId\",\n        id: \"userId\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Project Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ...register('projectName', {\n              required: true\n            }),\n            type: 'text',\n            className: \"form-control\",\n            placeholder: \"Enter project name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row p-2\",\n          children: /*#__PURE__*/_jsxDEV(ReactSelect, {\n            className: \"dropdown w-100\",\n            placeholder: \"Select Option\",\n            value: employees.filter(obj => selectedValue.includes(obj.value)) // set selected values\n            ,\n            options: employees // set list of the data\n            ,\n            onChange: handleChange // assign onChange function\n            ,\n            isMulti: true,\n            isClearable: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row p-2 justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"btn btn-success w-50\",\n            value: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n_s(AddProject, \"MaTf7MjfBc7qKTKJ28UD3RrSW4E=\", false, function () {\n  return [useForm];\n});\n_c = AddProject;\nexport default AddProject;\nvar _c;\n$RefreshReg$(_c, \"AddProject\");","map":{"version":3,"names":["Alert","Snackbar","React","useEffect","useState","Modal","useForm","ReactSelect","EmployeeService","ProjectService","jsxDEV","_jsxDEV","AddProject","_ref","_s","show","handleClose","project","user","JSON","parse","localStorage","getItem","alert","setAlert","alertSeverity","setAlertSeverity","open","setOpen","employees","setEmployees","temp","handleChange","e","setSelectedValue","Array","isArray","map","x","value","selectedValue","data","getAllEmployees","console","log","onSubmit","formState","addProject","id","then","response","status","window","location","reload","forEach","emp","includes","push","firstName","lastName","setTimeout","bind","register","handleSubmit","errors","onHide","children","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","autoHideDuration","onClose","severity","sx","width","type","className","hidden","name","required","placeholder","filter","obj","options","onChange","isMulti","isClearable","Footer","_c","$RefreshReg$"],"sources":["D:/EmployeeManagementSystem/ems_frontend-main/src/Components/ManagerComponent/AddProject.js"],"sourcesContent":["import { Alert, Snackbar } from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Modal } from 'react-bootstrap';\nimport { useForm } from \"react-hook-form\";\nimport ReactSelect from \"react-select\";\nimport EmployeeService from \"../../Services/EmployeeService\";\nimport ProjectService from \"../../Services/ProjectService\";\n\n\nconst AddProject = ({show, handleClose, project})=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const [alert, setAlert] = useState(null);\n    const [alertSeverity, setAlertSeverity] = useState(null);\n    const [open, setOpen] = useState(false);\n    const [employees, setEmployees] = useState([])\n    var temp = [];\n    const handleChange = (e) => {\n        setSelectedValue(Array.isArray(e) ? e.map(x => x.value) : []);\n      }\n    const [selectedValue, setSelectedValue] = useState([]);\n    let data = [];\n    useEffect(()=> {\n        getAllEmployees();\n        console.log('i fire once');\n    }, [])\n\n    const onSubmit = (formState)=>{\n        debugger\n        ProjectService.addProject(formState, user.id)\n        .then(response => {\n            if (response.status === 200){\n\n                setAlert(\"Project added successfully\")\n                setAlertSeverity(\"success\")\n                setOpen(true);\n                window.location.reload();\n            }else{\n                setAlert(\"Server error\")\n                setAlertSeverity(\"error\")\n                setOpen(true);\n            }\n        }\n        )\n    }\n    const getAllEmployees = ()=>{\n        EmployeeService.getAllEmployees()\n        .then(response => {\n            if (response.status === 200){\n                setAlert(\"\")\n                setAlertSeverity(\"success\")\n                setOpen(true);\n                console.log(response.data)\n                // setTimeout(function(){\n                    \n                    debugger\n                    response.data.forEach(emp => {\n                    if (!temp.includes(emp.id)){\n                        data.push({'value': emp.id, 'label': emp.firstName + \" \" + emp.lastName})\n                        temp.push(emp.id);\n                    }\n                        \n                });\n                setTimeout(function(){\n                    setEmployees(data)\n                }.bind(this), 1000)\n                // setTimeout(function(){\n                // }.bind(this), 1000)\n            }else{\n                setAlert(\"Server error\")\n                setAlertSeverity(\"error\")\n                setOpen(true);\n            }\n        })\n    }\n    const {\n        register,\n        handleSubmit,\n        formState: { errors},\n      } = useForm();\n    return(\n        <Modal show={show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                <Modal.Title>Add Project</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n            <Snackbar open={open} autoHideDuration={1000} onClose={() => setOpen(false)}>\n                <Alert severity={alertSeverity} sx={{ width: '100%' }}>\n                    {alert}\n                </Alert>\n            </Snackbar>\n            <input type=\"text\" className=\"form-control\" hidden name=\"userId\" id=\"userId\" />\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"row p-2\">\n                    <label>Project Name</label>\n                    <br/>\n                    <input {...register('projectName', { required: true })} type={'text'} className=\"form-control\" placeholder=\"Enter project name\"/>\n                </div>\n                <div className=\"row p-2\">\n                <ReactSelect\n                    className=\"dropdown w-100\"\n                    placeholder=\"Select Option\"\n                    value={employees.filter(obj => selectedValue.includes(obj.value))} // set selected values\n                    options={employees} // set list of the data\n                    onChange={handleChange} // assign onChange function\n                    isMulti\n                    isClearable\n                />\n                </div>\n                <div className=\"row p-2 justify-content-center\">\n                    <input type=\"submit\" className=\"btn btn-success w-50\" value=\"Add\"/>\n                </div>\n            </form>\n            </Modal.Body>\n            <Modal.Footer>\n\n            </Modal.Footer>\n        </Modal>\n    )\n}\nexport default AddProject;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}